
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AFQ.utils.volume &#8212; AFQ 0.1 documentation</title>
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/gallery-rendered-html.css" />
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="AFQ.viz" href="../../viz/index.html" />
    <link rel="prev" title="AFQ.utils.streamlines" href="../streamlines/index.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-AFQ.utils.volume">
<span id="afq-utils-volume"></span><h1><a class="reference internal" href="#module-AFQ.utils.volume" title="AFQ.utils.volume"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ.utils.volume</span></code></a><a class="headerlink" href="#module-AFQ.utils.volume" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#AFQ.utils.volume.transform_inverse_roi" title="AFQ.utils.volume.transform_inverse_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform_inverse_roi</span></code></a>(roi, mapping, bundle_name=’ROI’)</p></td>
<td><p>After being non-linearly transformed, ROIs tend to have holes in them.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#AFQ.utils.volume.patch_up_roi" title="AFQ.utils.volume.patch_up_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">patch_up_roi</span></code></a>(roi, bundle_name=’ROI’)</p></td>
<td><p>After being non-linearly transformed, ROIs tend to have holes in them.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#AFQ.utils.volume.density_map" title="AFQ.utils.volume.density_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">density_map</span></code></a>(tractogram, n_sls=None, to_vox=False, normalize=False)</p></td>
<td><p>Create a streamline density map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#AFQ.utils.volume.dice_coeff" title="AFQ.utils.volume.dice_coeff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dice_coeff</span></code></a>(arr1, arr2, weighted=True)</p></td>
<td><p>Compute Dice’s coefficient between two images.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="AFQ.utils.volume.transform_inverse_roi">
<code class="sig-prename descclassname">AFQ.utils.volume.</code><code class="sig-name descname">transform_inverse_roi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roi</span></em>, <em class="sig-param"><span class="n">mapping</span></em>, <em class="sig-param"><span class="n">bundle_name</span><span class="o">=</span><span class="default_value">'ROI'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/AFQ/utils/volume.html#transform_inverse_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.utils.volume.transform_inverse_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>After being non-linearly transformed, ROIs tend to have holes in them.
We perform a couple of computational geometry operations on the ROI to
fix that up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>roi</strong><span class="classifier">Nifti1Image, str, ndarray</span></dt><dd><p>The ROI to transform. Can be a path or image, which will be
converted to an ndarray.</p>
</dd>
<dt><strong>mapping</strong><span class="classifier">DiffeomorphicMap object</span></dt><dd><p>A mapping between DWI space and a template.</p>
</dd>
<dt><strong>bundle_name</strong><span class="classifier">str, optional</span></dt><dd><p>Name of bundle, which may be useful for error messages.
Default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ROI after dilation and hole-filling</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="AFQ.utils.volume.patch_up_roi">
<code class="sig-prename descclassname">AFQ.utils.volume.</code><code class="sig-name descname">patch_up_roi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roi</span></em>, <em class="sig-param"><span class="n">bundle_name</span><span class="o">=</span><span class="default_value">'ROI'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/AFQ/utils/volume.html#patch_up_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.utils.volume.patch_up_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>After being non-linearly transformed, ROIs tend to have holes in them.
We perform a couple of computational geometry operations on the ROI to
fix that up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>roi</strong><span class="classifier">3D binary array</span></dt><dd><p>The ROI after it has been transformed.</p>
</dd>
<dt><strong>sigma</strong><span class="classifier">float</span></dt><dd><p>The sigma for initial Gaussian smoothing.</p>
</dd>
<dt><strong>truncate</strong><span class="classifier">float</span></dt><dd><p>The truncation for the Gaussian</p>
</dd>
<dt><strong>bundle_name</strong><span class="classifier">str, optional</span></dt><dd><p>Name of bundle, which may be useful for error messages.
Default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ROI after dilation and hole-filling</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="AFQ.utils.volume.density_map">
<code class="sig-prename descclassname">AFQ.utils.volume.</code><code class="sig-name descname">density_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tractogram</span></em>, <em class="sig-param"><span class="n">n_sls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">to_vox</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/AFQ/utils/volume.html#density_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.utils.volume.density_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a streamline density map.
based on:
<a class="reference external" href="https://dipy.org/documentation/1.1.1./examples_built/streamline_formats/">https://dipy.org/documentation/1.1.1./examples_built/streamline_formats/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tractogram</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>Stateful tractogram whose streamlines are used to make
the density map.</p>
</dd>
<dt><strong>n_sls</strong><span class="classifier">int or None, optional</span></dt><dd><p>n_sls to randomly select to make the density map.
If None, all streamlines are used.
Default: None</p>
</dd>
<dt><strong>to_vox</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to put the stateful tractogram in VOX space before making
the density map.
Default: False</p>
</dd>
<dt><strong>normalize</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to normalize maximum values to 1.
Default: False</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Nifti1Image containing the density map.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="AFQ.utils.volume.dice_coeff">
<code class="sig-prename descclassname">AFQ.utils.volume.</code><code class="sig-name descname">dice_coeff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr1</span></em>, <em class="sig-param"><span class="n">arr2</span></em>, <em class="sig-param"><span class="n">weighted</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/AFQ/utils/volume.html#dice_coeff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.utils.volume.dice_coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Dice’s coefficient between two images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>arr1</strong><span class="classifier">Nifti1Image, str, ndarray</span></dt><dd><p>One ndarray to compare. Can be a path or image, which will be
converted to an ndarray.</p>
</dd>
<dt><strong>arr2</strong><span class="classifier">Nifti1Image, str, ndarray</span></dt><dd><p>The other ndarray to compare. Can be a path or image, which will be
converted to an ndarray.</p>
</dd>
<dt><strong>weighted</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether or not to weight the DICE coefficient as in <span id="id1">[Cousineau2017]</span>.
The weighted Dice coefficient is calculated by adding the sum of all
values in arr1 where arr2 is nonzero to the sum of all values in arr2
where arr1 is nonzero, then dividing that by the sum of all values in
arr1 and arr2.
Default: True</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>The dice similarity between the images.</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="citation">
<dt class="label" id="r525e1fe6798e-1"><span class="brackets">1</span></dt>
<dd><p>Cousineau M, Jodoin PM, Morency FC, et al. A test-retest study on
Parkinson’s PPMI dataset yields statistically significant white
matter fascicles. Neuroimage Clin. 2017;16:222-233. Published 2017
Jul 25. doi:10.1016/j.nicl.2017.07.020</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../index.html">
    <img class="logo" src="../../../../_static/escience-logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../installation_guide.html">Installing <code class="docutils literal notranslate"><span class="pre">pyAFQ</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../usage/index.html">Using pyAFQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_help.html">Getting help using pyAFQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing.html">Contributing to pyAFQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developing/index.html">Developing <cite>pyAFQ</cite></a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">API Reference</a><ul>
  <li><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ</span></code></a><ul>
  <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ.utils</span></code></a><ul>
      <li>Previous: <a href="../streamlines/index.html" title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ.utils.streamlines</span></code></a></li>
      <li>Next: <a href="../../viz/index.html" title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">AFQ.viz</span></code></a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2018, Ariel Rokem.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../../_sources/autoapi/AFQ/utils/volume/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-156363454-2");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>